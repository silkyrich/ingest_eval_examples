# Problem description

Splunk has reserved keywords which have specific meaning and treatment. These are `index`, `host`, `source` and `sourcetype` should these keywords appear in search results we rename them to prevent a name space clash. However should these values be added explicity as user defined indexed fields in `_meta` we find multi value fields occuring when we have namespace clash. 

extracted_host

###  Example namespace clash

This data structure is generated by the zoom API for a meeting. Inside the data structure we can see a attribute name `host` which is a one of our reserved keywords. Unfortunately the JSON parser does not understand this and generates `host::"director@cia.us.gov"` and inserts that into `_meta` causing us headaches at search time. 

    {
        "host": "director@cia.us.gov",
        "uuid": "Y=l=SACZfon=MVfUMx/hU/==",
        "id": 57900665151,
        "topic": "Splunk> All batbelt. No tights. ",
        "email": "putin@gru.ru",
        "user_type": "Licensed|Large500",
        "start_time": "2020-10-26T03:17:31",
        "end_time": "2020-10-26T05:35:31",
        "duration": "2:18:00",
        "participants": 12,
        "has_pstn": true,
        "has_voip": true,
        "has_3rd_party_audio": true,
        "has_video": true,
        "has_screen_share": false,
        "has_recording": false,
        "has_sip": false
    }

## Proposed solution

We use the alterate syntax for indexed fields in INGEST_EVAL to target the value for host in the pipeline data like so `$pd:host$`, and we use the `$field:host$` syntax to target the user defined one in the `_meta` string.

#### props.conf

    # This demonstrates how to fix clashing names found when using INDEXED_EXTRACTIONS
    [name_clash]
    INDEXED_EXTRACTIONS = JSON
    TIMESTAMP_FIELDS = start_time
    TIME_FORMAT = %Y-%m-%dT%T
    TRANSFORMS-rename_host = name_clash_rename_host

#### transforms.conf

    # rename the user defined host into a meeting_host
    [name_clash_rename_host]
    INGEST_EVAL = meeting_host:=$field:host$, $field:host$:=null()